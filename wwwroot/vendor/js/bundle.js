var N,h,ce,pe,H,de,he,ve,K={},ye=[],vt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function P(e,t){for(var n in t)e[n]=t[n];return e}function me(e){var t=e.parentNode;t&&t.removeChild(e)}function Z(e,t,n){var r,l,_,i={};for(_ in t)_=="key"?r=t[_]:_=="ref"?l=t[_]:i[_]=t[_];if(arguments.length>2&&(i.children=arguments.length>3?N.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(_ in e.defaultProps)i[_]===void 0&&(i[_]=e.defaultProps[_]);return M(e,i,r,l,null)}function M(e,t,n,r,l){var _={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++ce};return l==null&&h.vnode!=null&&h.vnode(_),_}function yt(){return{current:null}}function U(e){return e.children}function R(e,t){this.props=e,this.context=t}function w(e,t){if(t==null)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?w(e):null}function ge(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ge(e)}}function j(e){(!e.__d&&(e.__d=!0)&&H.push(e)&&!V.__r++||he!==h.debounceRendering)&&((he=h.debounceRendering)||de)(V)}function V(){for(var e;V.__r=H.length;)e=H.sort(function(t,n){return t.__v.__b-n.__v.__b}),H=[],e.some(function(t){var n,r,l,_,i,f;t.__d&&(i=(_=(n=t).__v).__e,(f=n.__P)&&(r=[],(l=P({},_)).__v=_.__v+1,ee(f,_,l,n.__n,f.ownerSVGElement!==void 0,_.__h!=null?[i]:null,r,i??w(_),_.__h),Ce(r,_),_.__e!=i&&ge(_)))})}function be(e,t,n,r,l,_,i,f,s,c){var o,d,u,a,p,x,v,y=r&&r.__k||ye,m=y.length;for(n.__k=[],o=0;o<t.length;o++)if((a=n.__k[o]=(a=t[o])==null||typeof a=="boolean"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"?M(null,a,null,null,a):Array.isArray(a)?M(U,{children:a},null,null,null):a.__b>0?M(a.type,a.props,a.key,null,a.__v):a)!=null){if(a.__=n,a.__b=n.__b+1,(u=y[o])===null||u&&a.key==u.key&&a.type===u.type)y[o]=void 0;else for(d=0;d<m;d++){if((u=y[d])&&a.key==u.key&&a.type===u.type){y[d]=void 0;break}u=null}ee(e,a,u=u||K,l,_,i,f,s,c),p=a.__e,(d=a.ref)&&u.ref!=d&&(v||(v=[]),u.ref&&v.push(u.ref,null,a),v.push(d,a.__c||p,a)),p!=null?(x==null&&(x=p),typeof a.type=="function"&&a.__k===u.__k?a.__d=s=ke(a,s,e):s=Ee(e,a,u,y,p,s),typeof n.type=="function"&&(n.__d=s)):s&&u.__e==s&&s.parentNode!=e&&(s=w(u))}for(n.__e=x,o=m;o--;)y[o]!=null&&(typeof n.type=="function"&&y[o].__e!=null&&y[o].__e==n.__d&&(n.__d=w(r,o+1)),Ae(y[o],y[o]));if(v)for(o=0;o<v.length;o++)we(v[o],v[++o],v[++o])}function ke(e,t,n){for(var r,l=e.__k,_=0;l&&_<l.length;_++)(r=l[_])&&(r.__=e,t=typeof r.type=="function"?ke(r,t,n):Ee(n,r,r,l,r.__e,t));return t}function xe(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){xe(n,t)}):t.push(e)),t}function Ee(e,t,n,r,l,_){var i,f,s;if(t.__d!==void 0)i=t.__d,t.__d=void 0;else if(n==null||l!=_||l.parentNode==null)e:if(_==null||_.parentNode!==e)e.appendChild(l),i=null;else{for(f=_,s=0;(f=f.nextSibling)&&s<r.length;s+=2)if(f==l)break e;e.insertBefore(l,_),i=_}return i!==void 0?i:l.nextSibling}function mt(e,t,n,r,l){var _;for(_ in n)_==="children"||_==="key"||_ in t||q(e,_,null,n[_],r);for(_ in t)l&&typeof t[_]!="function"||_==="children"||_==="key"||_==="value"||_==="checked"||n[_]===t[_]||q(e,_,t[_],n[_],r)}function Se(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||vt.test(t)?n:n+"px"}function q(e,t,n,r,l){var _;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Se(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Se(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")_=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+_]=n,n?r||e.addEventListener(t,_?Te:Pe,_):e.removeEventListener(t,_?Te:Pe,_);else if(t!=="dangerouslySetInnerHTML"){if(l)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function Pe(e){this.l[e.type+!1](h.event?h.event(e):e)}function Te(e){this.l[e.type+!0](h.event?h.event(e):e)}function ee(e,t,n,r,l,_,i,f,s){var c,o,d,u,a,p,x,v,y,m,E,g=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,f=t.__e=n.__e,t.__h=null,_=[f]),(c=h.__b)&&c(t);try{e:if(typeof g=="function"){if(v=t.props,y=(c=g.contextType)&&r[c.__c],m=c?y?y.props.value:c.__:r,n.__c?x=(o=t.__c=n.__c).__=o.__E:("prototype"in g&&g.prototype.render?t.__c=o=new g(v,m):(t.__c=o=new R(v,m),o.constructor=g,o.render=bt),y&&y.sub(o),o.props=v,o.state||(o.state={}),o.context=m,o.__n=r,d=o.__d=!0,o.__h=[]),o.__s==null&&(o.__s=o.state),g.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=P({},o.__s)),P(o.__s,g.getDerivedStateFromProps(v,o.__s))),u=o.props,a=o.state,d)g.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(g.getDerivedStateFromProps==null&&v!==u&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(v,m),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(v,o.__s,m)===!1||t.__v===n.__v){o.props=v,o.state=o.__s,t.__v!==n.__v&&(o.__d=!1),o.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(S){S&&(S.__=t)}),o.__h.length&&i.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(v,o.__s,m),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(u,a,p)})}o.context=m,o.props=v,o.state=o.__s,(c=h.__r)&&c(t),o.__d=!1,o.__v=t,o.__P=e,c=o.render(o.props,o.state,o.context),o.state=o.__s,o.getChildContext!=null&&(r=P(P({},r),o.getChildContext())),d||o.getSnapshotBeforeUpdate==null||(p=o.getSnapshotBeforeUpdate(u,a)),E=c!=null&&c.type===U&&c.key==null?c.props.children:c,be(e,Array.isArray(E)?E:[E],t,n,r,l,_,i,f,s),o.base=t.__e,t.__h=null,o.__h.length&&i.push(o),x&&(o.__E=o.__=null),o.__e=!1}else _==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=gt(n.__e,t,n,r,l,_,i,s);(c=h.diffed)&&c(t)}catch(S){t.__v=null,(s||_!=null)&&(t.__e=f,t.__h=!!s,_[_.indexOf(f)]=null),h.__e(S,t,n)}}function Ce(e,t){h.__c&&h.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){h.__e(r,n.__v)}})}function gt(e,t,n,r,l,_,i,f){var s,c,o,d=n.props,u=t.props,a=t.type,p=0;if(a==="svg"&&(l=!0),_!=null){for(;p<_.length;p++)if((s=_[p])&&(s===e||(a?s.localName==a:s.nodeType==3))){e=s,_[p]=null;break}}if(e==null){if(a===null)return document.createTextNode(u);e=l?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a,u.is&&u),_=null,f=!1}if(a===null)d===u||f&&e.data===u||(e.data=u);else{if(_=_&&N.call(e.childNodes),c=(d=n.props||K).dangerouslySetInnerHTML,o=u.dangerouslySetInnerHTML,!f){if(_!=null)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(o||c)&&(o&&(c&&o.__html==c.__html||o.__html===e.innerHTML)||(e.innerHTML=o&&o.__html||""))}if(mt(e,u,d,l,f),o)t.__k=[];else if(p=t.props.children,be(e,Array.isArray(p)?p:[p],t,n,r,l&&a!=="foreignObject",_,i,_?_[0]:n.__k&&w(n,0),f),_!=null)for(p=_.length;p--;)_[p]!=null&&me(_[p]);f||("value"in u&&(p=u.value)!==void 0&&(p!==e.value||a==="progress"&&!p)&&q(e,"value",p,d.value,!1),"checked"in u&&(p=u.checked)!==void 0&&p!==e.checked&&q(e,"checked",p,d.checked,!1))}return e}function we(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){h.__e(r,n)}}function Ae(e,t,n){var r,l;if(h.unmount&&h.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||we(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){h.__e(_,t)}r.base=r.__P=null}if(r=e.__k)for(l=0;l<r.length;l++)r[l]&&Ae(r[l],t,typeof e.type!="function");n||e.__e==null||me(e.__e),e.__e=e.__d=void 0}function bt(e,t,n){return this.constructor(e,n)}function De(e,t,n){var r,l,_;h.__&&h.__(e,t),l=(r=typeof n=="function")?null:n&&n.__k||t.__k,_=[],ee(t,e=(!r&&n||t).__k=Z(U,null,[e]),l||K,K,t.ownerSVGElement!==void 0,!r&&n?[n]:l?null:t.firstChild?N.call(t.childNodes):null,_,!r&&n?n:l?l.__e:t.firstChild,r),Ce(_,e)}function Le(e,t){De(e,t,Le)}function kt(e,t,n){var r,l,_,i=P({},e.props);for(_ in t)_=="key"?r=t[_]:_=="ref"?l=t[_]:i[_]=t[_];return arguments.length>2&&(i.children=arguments.length>3?N.call(arguments,2):n),M(e.type,i,r||e.key,l||e.ref,null)}function xt(e,t){var n={__c:t="__cC"+ve++,__:e,Consumer:function(r,l){return r.children(l)},Provider:function(r){var l,_;return this.getChildContext||(l=[],(_={})[t]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&l.some(j)},this.sub=function(i){l.push(i);var f=i.componentWillUnmount;i.componentWillUnmount=function(){l.splice(l.indexOf(i),1),f&&f.call(i)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}N=ye.slice,h={__e:function(e,t){for(var n,r,l;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(e)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),l=n.__d),l)return n.__E=n}catch(_){e=_}throw e}},ce=0,pe=function(e){return e!=null&&e.constructor===void 0},R.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof e=="function"&&(e=e(P({},n),this.props)),e&&P(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),j(this))},R.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),j(this))},R.prototype.render=U,H=[],de=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,V.__r=0,ve=0;export{R as Component,U as Fragment,kt as cloneElement,xt as createContext,Z as createElement,yt as createRef,Z as h,Le as hydrate,pe as isValidElement,h as options,De as render,xe as toChildArray};var C,k,Ne,A=0,te=[],He=h.__b,Me=h.__r,Ue=h.diffed,Re=h.__c,Oe=h.unmount;function D(e,t){h.__h&&h.__h(k,e,A||t),A=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ne(e){return A=1,Fe(Ie,e)}function Fe(e,t,n){var r=D(C++,2);return r.t=e,r.__c||(r.__=[n?n(t):Ie(void 0,t),function(l){var _=r.t(r.__[0],l);r.__[0]!==_&&(r.__=[_,r.__[1]],r.__c.setState({}))}],r.__c=k),r.__}function We(e,t){var n=D(C++,3);!h.__s&&oe(n.__H,t)&&(n.__=e,n.__H=t,k.__H.__h.push(n))}function $e(e,t){var n=D(C++,4);!h.__s&&oe(n.__H,t)&&(n.__=e,n.__H=t,k.__h.push(n))}function Et(e){return A=5,_e(function(){return{current:e}},[])}function St(e,t,n){A=6,$e(function(){typeof e=="function"?e(t()):e&&(e.current=t())},n==null?n:n.concat(e))}function _e(e,t){var n=D(C++,7);return oe(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Pt(e,t){return A=8,_e(function(){return e},t)}function Tt(e){var t=k.context[e.__c],n=D(C++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(k)),t.props.value):e.__}function Ct(e,t){h.useDebugValue&&h.useDebugValue(t?t(e):e)}function wt(e){var t=D(C++,10),n=ne();return t.__=e,k.componentDidCatch||(k.componentDidCatch=function(r){t.__&&t.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]}function At(){te.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(z),e.__H.__h.forEach(re),e.__H.__h=[]}catch(t){e.__H.__h=[],h.__e(t,e.__v)}}),te=[]}h.__b=function(e){k=null,He&&He(e)},h.__r=function(e){Me&&Me(e),C=0;var t=(k=e.__c).__H;t&&(t.__h.forEach(z),t.__h.forEach(re),t.__h=[])},h.diffed=function(e){Ue&&Ue(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(te.push(t)!==1&&Ne===h.requestAnimationFrame||((Ne=h.requestAnimationFrame)||function(n){var r,l=function(){clearTimeout(_),Be&&cancelAnimationFrame(r),setTimeout(n)},_=setTimeout(l,100);Be&&(r=requestAnimationFrame(l))})(At)),k=null},h.__c=function(e,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(r){return!r.__||re(r)})}catch(r){t.some(function(l){l.__h&&(l.__h=[])}),t=[],h.__e(r,n.__v)}}),Re&&Re(e,t)},h.unmount=function(e){Oe&&Oe(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(z)}catch(n){h.__e(n,t.__v)}};var Be=typeof requestAnimationFrame=="function";function z(e){var t=k;typeof e.__c=="function"&&e.__c(),k=t}function re(e){var t=k;e.__c=e.__(),k=t}function oe(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Ie(e,t){return typeof t=="function"?t(e):t}export{Pt as useCallback,Tt as useContext,Ct as useDebugValue,We as useEffect,wt as useErrorBoundary,St as useImperativeHandle,$e as useLayoutEffect,_e as useMemo,Fe as useReducer,Et as useRef,ne as useState};function O(e){if(e.active)return e.value;{let t;return e.subscribe(r=>{t=r})(),t}}export{O as getValue};let F=0,le=[];function Ke(){return F+=1,()=>{if(F-=1,F===0){let e=le;le=[];for(let t of e)t()}}}function Dt(e){let t=Ke();return e().finally(t)}function Lt(){return F===0?Promise.resolve():new Promise(e=>{le.push(e)})}function Nt(){F=0}const Ht=Symbol("clean");function Mt(...e){throw new Error("cleanStores() can be used only during development or tests")}function Ut(e,t){e.set(t(O(e)))}function Rt(e,t,n){e.setKey(t,n(O(e)[t]))}function ie(e){let t,n=[],r,l={set(_){l.value=_,t=n;for(let i of t)i(l.value)},subscribe(_){let i=l.listen(_);return _(l.value),i},listen(_){return l.active||(l.active=!0,e&&(r=e())),n===t&&(n=n.slice()),n.push(_),()=>{n===t&&(n=n.slice());let i=n.indexOf(_);n.splice(i,1),n.length||setTimeout(()=>{l.active&&!n.length&&(r&&r(),r=void 0,l.active=void 0)},1e3)}}};return l}function Ot(e,t){Array.isArray(e)||(e=[e]);let n=ie(()=>{let r=e.map(_=>O(_));n.set(t(...r));let l=e.map((_,i)=>_.listen(f=>{r[i]=f,n.set(t(...r))}));return()=>{for(let _ of l)_()}});return n}function Ft(e){e.listen(()=>{})}function Ve(e){let t,n=[],r,l={active:!1,value:{},set(_){for(let i in _)l.setKey(i,_[i]);for(let i in l.value)i in _||l.setKey(i)},setKey(_,i){l.value&&(typeof i=="undefined"?_ in l.value&&(delete l.value[_],l.notify(_)):l.value[_]!==i&&(l.value[_]=i,l.notify(_)))},notify(_){t=n;for(let i of t)i(l.value,_)},subscribe(_){let i=l.listen(_);return _(l.value),i},listen(_){return l.active||(l.active=!0,l.value={},e&&(r=e())),n===t&&(n=n.slice()),n.push(_),()=>{n===t&&(n=n.slice());let i=n.indexOf(_);n.splice(i,1),n.length||setTimeout(()=>{l.active&&!n.length&&(r&&r(),l.active=!1,r=void 0)},1e3)}}};return l}function Wt(e){let t=(n,...r)=>{if(!t.cache[n]){let l=Ve(()=>{l.setKey("id",n);let _;return e&&(_=e(l,n,...r)),()=>{delete t.cache[n],_&&_()}});t.cache[n]=l}return t.cache[n]};return t.cache={},t}export{Lt as allEffects,Ht as clean,Mt as cleanStores,Nt as clearEffects,Ot as createDerived,Ve as createMap,ie as createStore,Wt as defineMap,Dt as effect,Ft as keepActive,Ke as startEffect,Ut as update,Rt as updateKey};function $t(e){let[,t]=ne({});return We(()=>{let n;return e.listen(()=>{n||(n=1,setTimeout(()=>{n=void 0,t({})}))})},[e]),O(e)}export{$t as useStore};let W=0,se=[];function qe(){return W+=1,()=>{if(W-=1,W===0){let e=se;se=[];for(let t of e)t()}}}function Bt(e){let t=qe();return e().finally(t)}function It(){return W===0?Promise.resolve():new Promise(e=>{se.push(e)})}function Kt(){W=0}export{qe as startTask};export{Bt as task};export{It as allTasks};export{Kt as cleanTasks};let fn=Symbol("clean");const Vt=10;let $=(e,t,n,r)=>(e.events=e.events||{},e.events[n+10]||(e.events[n+Vt]=r(l=>{e.events[n].reduceRight((_,i)=>(i(_),_),{shared:{},...l})})),e.events[n]=e.events[n]||[],e.events[n].push(t),()=>{let l=e.events[n],_=l.indexOf(t);l.splice(_,1),l.length||(delete e.events[n],e.events[n+10](),delete e.events[n+10])}),ze=(e,t)=>$(e,t,0,n=>{let r=e.listen;return e.listen=l=>(e.lc||n(),r(l)),()=>{e.listen=r}}),Ge=(e,t)=>$(e,t,1,n=>{let r=e.off;return e.off=()=>{n(),r()},()=>{e.off=r}}),qt=(e,t)=>$(e,t,2,n=>{let r=e.set,l=e.setKey;return e.setKey&&(e.setKey=(_,i)=>{let f;if(n({abort:()=>{f=!0},changed:_,newValue:{...e.value,[_]:i}}),!f)return l(_,i)}),e.set=_=>{let i;if(n({abort:()=>{i=!0},newValue:_}),!i)return r(_)},()=>{e.set=r,e.setKey=l}}),zt=(e,t)=>$(e,t,3,n=>{let r=e.notify;return e.notify=l=>{let _;if(n({abort:()=>{_=!0},changed:l}),!_)return r(l)},()=>{e.notify=r}}),Gt=(e,t)=>$(e,t,4,n=>{let r=e.build;return e.build=(...l)=>{let _=r(...l);return n({store:_}),_},()=>{e.build=r}}),Ye=1e3,Je=(e,t)=>{let n,r=ze(e,()=>{e.active||(n=t(),e.active=!0)}),l=Ge(e,()=>{setTimeout(()=>{e.active&&!e.lc&&(n&&n(),n=void 0,e.active=!1)},Ye)});return()=>{r(),l()}};export{ze as onStart};export{Ge as onStop};export{qt as onSet};export{zt as onNotify};export{Gt as onBuild};export{Ye as STORE_UNMOUNT_DELAY};export{Je as onMount};let Qe=e=>{let t,n=[],r={lc:0,value:e,set(l){r.value=l,r.notify()},get(){return r.lc||r.listen(()=>{})(),r.value},notify(l){t=n;for(let _ of t)_(r.value,l)},listen(l){return n===t&&(n=n.slice()),r.lc=n.push(l),()=>{n===t&&(n=n.slice());let _=n.indexOf(l);~_&&(n.splice(_,1),r.lc--,r.lc||r.off())}},subscribe(l){let _=r.listen(l);return l(r.value),_},off(){}};return r};export{Qe as atom};let Yt=(e={})=>{let t=Qe(e);return t.setKey=function(n,r){typeof r=="undefined"?n in t.value&&(t.value={...t.value},delete t.value[n],t.notify(n)):t.value[n]!==r&&(t.value={...t.value,[n]:r},t.notify(n))},t};function Jt(e){let t=(n,...r)=>(t.cache[n]||(t.cache[n]=t.build(n,...r)),t.cache[n]);return t.build=(n,...r)=>{let l=Yt({id:n});return Je(l,()=>{let _;return e&&(_=e(l,n,...r)),()=>{delete t.cache[n],_&&_()}}),l},t.cache={},t}export{Jt as mapTemplate};function Qt(e){let t=Object.keys(e).map(s=>{let c=e[s];if(typeof c=="string"){c=c.replace(/\/$/g,"")||"/";let o=(c.match(/\/:\w+/g)||[]).map(u=>u.slice(2)),d=c.replace(/[\s!#$()+,.:<=?[\\\]^{|}]/g,"\\$&").replace(/\/\\:\w+/g,"/([^/]+)");return[s,RegExp("^"+d+"$","i"),(...u)=>u.reduce((a,p,x)=>(a[o[x]]=p,a),{}),c]}else return[s,...c]}),n,r=s=>{if(s=s.replace(/\/$/,"")||"/",n===s)return!1;n=s;for(let[c,o,d]of t){let u=s.match(o);if(u)return{path:s,route:c,params:d(...u.slice(1))}}},l=s=>{let c=s.target.closest("a");if(!s.defaultPrevented&&c&&s.button===0&&c.target!=="_blank"&&c.dataset.noRouter==null&&c.rel!=="external"&&!c.download&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&!s.altKey){let o=new URL(c.href);if(o.origin===location.origin){s.preventDefault();let d=location.hash!==o.hash;i.open(o.pathname),d&&(location.hash=o.hash,(o.hash===""||o.hash==="#")&&window.dispatchEvent(new HashChangeEvent("hashchange")))}}},_=()=>{let s=r(location.pathname);s!==!1&&f(s)},i=ie(()=>{if(typeof window!="undefined"&&typeof location!="undefined"){let s=r(location.pathname);return s!==!1&&f(s),document.body.addEventListener("click",l),window.addEventListener("popstate",_),()=>{n=void 0,document.body.removeEventListener("click",l),window.removeEventListener("popstate",_)}}else f(r("/"))});i.routes=t;let f=i.set;return i.open=(s,c)=>{let o=r(s);o!==!1&&(typeof history!="undefined"&&(c?history.replaceState(null,null,s):history.pushState(null,null,s)),f(o))},i}function ae(e,t,n){return e.routes.find(l=>l[0]===t)[3].replace(/\/:\w+/g,l=>"/"+n[l.slice(2)])}function Xt(e,t,n){e.open(ae(e,t,n))}function Zt(e,t,n){e.open(ae(e,t,n),!0)}export{Qt as createRouter,ae as getPagePath,Xt as openPage,Zt as redirectPage};var ue,b,Xe,B,Ze,je,et={},tt=[],jt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(e,t){for(var n in t)e[n]=t[n];return e}function nt(e){var t=e.parentNode;t&&t.removeChild(e)}function en(e,t,n){var r,l,_,i={};for(_ in t)_=="key"?r=t[_]:_=="ref"?l=t[_]:i[_]=t[_];if(arguments.length>2&&(i.children=arguments.length>3?ue.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(_ in e.defaultProps)i[_]===void 0&&(i[_]=e.defaultProps[_]);return G(e,i,r,l,null)}function G(e,t,n,r,l){var _={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++Xe};return b.vnode!=null&&b.vnode(_),_}function fe(e){return e.children}function Y(e,t){this.props=e,this.context=t}function L(e,t){if(t==null)return e.__?L(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?L(e):null}function _t(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return _t(e)}}function rt(e){(!e.__d&&(e.__d=!0)&&B.push(e)&&!J.__r++||je!==b.debounceRendering)&&((je=b.debounceRendering)||Ze)(J)}function J(){for(var e;J.__r=B.length;)e=B.sort(function(t,n){return t.__v.__b-n.__v.__b}),B=[],e.some(function(t){var n,r,l,_,i,f;t.__d&&(i=(_=(n=t).__v).__e,(f=n.__P)&&(r=[],(l=T({},_)).__v=_.__v+1,ft(f,_,l,n.__n,f.ownerSVGElement!==void 0,_.__h!=null?[i]:null,r,i??L(_),_.__h),nn(r,_),_.__e!=i&&_t(_)))})}function ot(e,t,n,r,l,_,i,f,s,c){var o,d,u,a,p,x,v,y=r&&r.__k||tt,m=y.length;for(n.__k=[],o=0;o<t.length;o++)if((a=n.__k[o]=(a=t[o])==null||typeof a=="boolean"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"?G(null,a,null,null,a):Array.isArray(a)?G(fe,{children:a},null,null,null):a.__b>0?G(a.type,a.props,a.key,null,a.__v):a)!=null){if(a.__=n,a.__b=n.__b+1,(u=y[o])===null||u&&a.key==u.key&&a.type===u.type)y[o]=void 0;else for(d=0;d<m;d++){if((u=y[d])&&a.key==u.key&&a.type===u.type){y[d]=void 0;break}u=null}ft(e,a,u=u||et,l,_,i,f,s,c),p=a.__e,(d=a.ref)&&u.ref!=d&&(v||(v=[]),u.ref&&v.push(u.ref,null,a),v.push(d,a.__c||p,a)),p!=null?(x==null&&(x=p),typeof a.type=="function"&&a.__k!=null&&a.__k===u.__k?a.__d=s=lt(a,s,e):s=it(e,a,u,y,p,s),c||n.type!=="option"?typeof n.type=="function"&&(n.__d=s):e.value=""):s&&u.__e==s&&s.parentNode!=e&&(s=L(u))}for(n.__e=x,o=m;o--;)y[o]!=null&&(typeof n.type=="function"&&y[o].__e!=null&&y[o].__e==n.__d&&(n.__d=L(r,o+1)),pt(y[o],y[o]));if(v)for(o=0;o<v.length;o++)ct(v[o],v[++o],v[++o])}function lt(e,t,n){var r,l;for(r=0;r<e.__k.length;r++)(l=e.__k[r])&&(l.__=e,t=typeof l.type=="function"?lt(l,t,n):it(n,l,l,e.__k,l.__e,t));return t}function it(e,t,n,r,l,_){var i,f,s;if(t.__d!==void 0)i=t.__d,t.__d=void 0;else if(n==null||l!=_||l.parentNode==null)e:if(_==null||_.parentNode!==e)e.appendChild(l),i=null;else{for(f=_,s=0;(f=f.nextSibling)&&s<r.length;s+=2)if(f==l)break e;e.insertBefore(l,_),i=_}return i!==void 0?i:l.nextSibling}function tn(e,t,n,r,l){var _;for(_ in n)_==="children"||_==="key"||_ in t||Q(e,_,null,n[_],r);for(_ in t)l&&typeof t[_]!="function"||_==="children"||_==="key"||_==="value"||_==="checked"||n[_]===t[_]||Q(e,_,t[_],n[_],r)}function st(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||jt.test(t)?n:n+"px"}function Q(e,t,n,r,l){var _;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||st(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||st(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")_=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+_]=n,n?r||e.addEventListener(t,_?ut:at,_):e.removeEventListener(t,_?ut:at,_);else if(t!=="dangerouslySetInnerHTML"){if(l)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function at(e){this.l[e.type+!1](b.event?b.event(e):e)}function ut(e){this.l[e.type+!0](b.event?b.event(e):e)}function ft(e,t,n,r,l,_,i,f,s){var c,o,d,u,a,p,x,v,y,m,E,g=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,f=t.__e=n.__e,t.__h=null,_=[f]),(c=b.__b)&&c(t);try{e:if(typeof g=="function"){if(v=t.props,y=(c=g.contextType)&&r[c.__c],m=c?y?y.props.value:c.__:r,n.__c?x=(o=t.__c=n.__c).__=o.__E:("prototype"in g&&g.prototype.render?t.__c=o=new g(v,m):(t.__c=o=new Y(v,m),o.constructor=g,o.render=rn),y&&y.sub(o),o.props=v,o.state||(o.state={}),o.context=m,o.__n=r,d=o.__d=!0,o.__h=[]),o.__s==null&&(o.__s=o.state),g.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=T({},o.__s)),T(o.__s,g.getDerivedStateFromProps(v,o.__s))),u=o.props,a=o.state,d)g.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(g.getDerivedStateFromProps==null&&v!==u&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(v,m),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(v,o.__s,m)===!1||t.__v===n.__v){o.props=v,o.state=o.__s,t.__v!==n.__v&&(o.__d=!1),o.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(S){S&&(S.__=t)}),o.__h.length&&i.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(v,o.__s,m),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(u,a,p)})}o.context=m,o.props=v,o.state=o.__s,(c=b.__r)&&c(t),o.__d=!1,o.__v=t,o.__P=e,c=o.render(o.props,o.state,o.context),o.state=o.__s,o.getChildContext!=null&&(r=T(T({},r),o.getChildContext())),d||o.getSnapshotBeforeUpdate==null||(p=o.getSnapshotBeforeUpdate(u,a)),E=c!=null&&c.type===fe&&c.key==null?c.props.children:c,ot(e,Array.isArray(E)?E:[E],t,n,r,l,_,i,f,s),o.base=t.__e,t.__h=null,o.__h.length&&i.push(o),x&&(o.__E=o.__=null),o.__e=!1}else _==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=_n(n.__e,t,n,r,l,_,i,s);(c=b.diffed)&&c(t)}catch(S){t.__v=null,(s||_!=null)&&(t.__e=f,t.__h=!!s,_[_.indexOf(f)]=null),b.__e(S,t,n)}}function nn(e,t){b.__c&&b.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){b.__e(r,n.__v)}})}function _n(e,t,n,r,l,_,i,f){var s,c,o,d=n.props,u=t.props,a=t.type,p=0;if(a==="svg"&&(l=!0),_!=null){for(;p<_.length;p++)if((s=_[p])&&(s===e||(a?s.localName==a:s.nodeType==3))){e=s,_[p]=null;break}}if(e==null){if(a===null)return document.createTextNode(u);e=l?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a,u.is&&u),_=null,f=!1}if(a===null)d===u||f&&e.data===u||(e.data=u);else{if(_=_&&ue.call(e.childNodes),c=(d=n.props||et).dangerouslySetInnerHTML,o=u.dangerouslySetInnerHTML,!f){if(_!=null)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(o||c)&&(o&&(c&&o.__html==c.__html||o.__html===e.innerHTML)||(e.innerHTML=o&&o.__html||""))}if(tn(e,u,d,l,f),o)t.__k=[];else if(p=t.props.children,ot(e,Array.isArray(p)?p:[p],t,n,r,l&&a!=="foreignObject",_,i,_?_[0]:n.__k&&L(n,0),f),_!=null)for(p=_.length;p--;)_[p]!=null&&nt(_[p]);f||("value"in u&&(p=u.value)!==void 0&&(p!==e.value||a==="progress"&&!p)&&Q(e,"value",p,d.value,!1),"checked"in u&&(p=u.checked)!==void 0&&p!==e.checked&&Q(e,"checked",p,d.checked,!1))}return e}function ct(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){b.__e(r,n)}}function pt(e,t,n){var r,l;if(b.unmount&&b.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ct(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){b.__e(_,t)}r.base=r.__P=null}if(r=e.__k)for(l=0;l<r.length;l++)r[l]&&pt(r[l],t,typeof e.type!="function");n||e.__e==null||nt(e.__e),e.__e=e.__d=void 0}function rn(e,t,n){return this.constructor(e,n)}ue=tt.slice,b={__e:function(e,t){for(var n,r,l;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(e)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),l=n.__d),l)return n.__E=n}catch(_){e=_}throw e}},Xe=0,Y.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=T({},this.state),typeof e=="function"&&(e=e(T({},n),this.props)),e&&T(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),rt(this))},Y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rt(this))},Y.prototype.render=fe,B=[],Ze=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,J.__r=0;var dt=function(e,t,n,r){var l;t[0]=0;for(var _=1;_<t.length;_++){var i=t[_++],f=t[_]?(t[0]|=i?1:2,n[t[_++]]):t[++_];i===3?r[0]=f:i===4?r[1]=Object.assign(r[1]||{},f):i===5?(r[1]=r[1]||{})[t[++_]]=f:i===6?r[1][t[++_]]+=f+"":i?(l=e.apply(f,dt(e,f,n,["",null])),r.push(l),f[0]?t[0]|=2:(t[_-2]=0,t[_]=l)):r.push(f)}return r},ht=new Map;function on(e){var t=ht.get(this);return t||(t=new Map,ht.set(this,t)),(t=dt(this,t.get(e)||(t.set(e,t=function(n){for(var r,l,_=1,i="",f="",s=[0],c=function(u){_===1&&(u||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,u,i):_===3&&(u||i)?(s.push(3,u,i),_=2):_===2&&i==="..."&&u?s.push(4,u,0):_===2&&i&&!u?s.push(5,0,!0,i):_>=5&&((i||!u&&_===5)&&(s.push(_,0,i,l),_=6),u&&(s.push(_,u,0,l),_=6)),i=""},o=0;o<n.length;o++){o&&(_===1&&c(),c(o));for(var d=0;d<n[o].length;d++)r=n[o][d],_===1?r==="<"?(c(),s=[s],_=3):i+=r:_===4?i==="--"&&r===">"?(_=1,i=""):i=r+i[0]:f?r===f?f="":i+=r:r==='"'||r==="'"?f=r:r===">"?(c(),_=1):_&&(r==="="?(_=5,l=i,i=""):r==="/"&&(_<5||n[o][d+1]===">")?(c(),_===3&&(s=s[0]),_=s,(s=s[0]).push(2,0,_),_=0):r===" "||r==="	"||r===`
`||r==="\r"?(c(),_=2):i+=r),_===3&&i==="!--"&&(_=4,s=s[0])}return c(),s}(e)),t),arguments,[])).length>1?t:t[0]}var ln=on.bind(en);let X,I=document,sn=1,an=I.head.appendChild(I.createElement("style")),un=(e,...t)=>(X="z"+sn++,I=0,e=e.map((n,r)=>(r?t[r-1]:"")+n.replace(/&/g,()=>I="."+X)).join(""),an.textContent+=I?e:`.${X}{${e}}`,X);export{ln as html};export{un as css};
